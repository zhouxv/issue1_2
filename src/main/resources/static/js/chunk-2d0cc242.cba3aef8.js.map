{"version":3,"sources":["webpack:///./src/layout/header-aside/components/tabs/index.vue?1de8","webpack:///src/layout/header-aside/components/tabs/index.vue","webpack:///./src/layout/header-aside/components/tabs/index.vue?d715","webpack:///./src/layout/header-aside/components/tabs/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","contextmenuFlag","contentmenuX","contentmenuY","on","$event","tagName","contextmenuListIndex","contextmenuList","contextmenuClick","current","handleClick","handleTabsEdit","nativeOn","handleContextmenu","_l","page","index","key","meta","title","name","handleControlBtnClick","command","handleControlItemClick","slot","_v","staticRenderFns","components","D2Contextmenu","D2ContextmenuList","data","computed","methods","target","className","indexOf","flag","parentNode","event","preventDefault","stopPropagation","clientX","clientY","getAttribute","slice","pageSelect","vm","closeLeft","params","closeRight","closeOther","closeAll","$message","error","$router","push","action","close","component"],"mappings":"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","file":"js/chunk-2d0cc242.cba3aef8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d2-multiple-page-control-group\",attrs:{\"flex\":\"\"}},[_c('div',{staticClass:\"d2-multiple-page-control-content\",attrs:{\"flex-box\":\"1\"}},[_c('div',{staticClass:\"d2-multiple-page-control-content-inner\"},[_c('d2-contextmenu',{attrs:{\"visible\":_vm.contextmenuFlag,\"x\":_vm.contentmenuX,\"y\":_vm.contentmenuY},on:{\"update:visible\":function($event){_vm.contextmenuFlag=$event}}},[_c('d2-contextmenu-list',{attrs:{\"menulist\":_vm.tagName === 'index' ? _vm.contextmenuListIndex : _vm.contextmenuList},on:{\"rowClick\":_vm.contextmenuClick}})],1),_c('el-tabs',{staticClass:\"d2-multiple-page-control\",attrs:{\"value\":_vm.current,\"type\":\"card\",\"closable\":true},on:{\"tab-click\":_vm.handleClick,\"edit\":_vm.handleTabsEdit},nativeOn:{\"contextmenu\":function($event){return _vm.handleContextmenu($event)}}},_vm._l((_vm.opened),function(page,index){return _c('el-tab-pane',{key:index,attrs:{\"label\":page.meta.title || '未命名',\"name\":page.name}})}),1)],1)]),_c('div',{staticClass:\"d2-multiple-page-control-btn\",attrs:{\"flex-box\":\"0\"}},[_c('el-dropdown',{attrs:{\"size\":\"default\",\"split-button\":\"\"},on:{\"click\":_vm.handleControlBtnClick,\"command\":function (command) { return _vm.handleControlItemClick(command); }}},[_c('d2-icon',{attrs:{\"name\":\"times-circle\"}}),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"left\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"arrow-left\"}}),_vm._v(\"\\n          关闭左侧\\n        \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"right\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"arrow-right\"}}),_vm._v(\"\\n          关闭右侧\\n        \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"other\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"times\"}}),_vm._v(\"\\n          关闭其它\\n        \")],1),_c('el-dropdown-item',{attrs:{\"command\":\"all\"}},[_c('d2-icon',{staticClass:\"d2-mr-10\",attrs:{\"name\":\"times-circle\"}}),_vm._v(\"\\n          全部关闭\\n        \")],1)],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"d2-multiple-page-control-group\" flex>\n    <div class=\"d2-multiple-page-control-content\" flex-box=\"1\">\n      <div class=\"d2-multiple-page-control-content-inner\">\n        <d2-contextmenu\n          :visible.sync=\"contextmenuFlag\"\n          :x=\"contentmenuX\"\n          :y=\"contentmenuY\">\n          <d2-contextmenu-list\n            :menulist=\"tagName === 'index' ? contextmenuListIndex : contextmenuList\"\n            @rowClick=\"contextmenuClick\"/>\n        </d2-contextmenu>\n        <el-tabs\n          class=\"d2-multiple-page-control\"\n          :value=\"current\"\n          type=\"card\"\n          :closable=\"true\"\n          @tab-click=\"handleClick\"\n          @edit=\"handleTabsEdit\"\n          @contextmenu.native=\"handleContextmenu\">\n          <el-tab-pane\n            v-for=\"(page, index) in opened\"\n            :key=\"index\"\n            :label=\"page.meta.title || '未命名'\"\n            :name=\"page.name\"/>\n        </el-tabs>\n      </div>\n    </div>\n    <div\n      class=\"d2-multiple-page-control-btn\"\n      flex-box=\"0\">\n      <el-dropdown\n        size=\"default\"\n        split-button\n        @click=\"handleControlBtnClick\"\n        @command=\"command => handleControlItemClick(command)\">\n        <d2-icon name=\"times-circle\"/>\n        <el-dropdown-menu slot=\"dropdown\">\n          <el-dropdown-item command=\"left\">\n            <d2-icon name=\"arrow-left\" class=\"d2-mr-10\"/>\n            关闭左侧\n          </el-dropdown-item>\n          <el-dropdown-item command=\"right\">\n            <d2-icon name=\"arrow-right\" class=\"d2-mr-10\"/>\n            关闭右侧\n          </el-dropdown-item>\n          <el-dropdown-item command=\"other\">\n            <d2-icon name=\"times\" class=\"d2-mr-10\"/>\n            关闭其它\n          </el-dropdown-item>\n          <el-dropdown-item command=\"all\">\n            <d2-icon name=\"times-circle\" class=\"d2-mr-10\"/>\n            全部关闭\n          </el-dropdown-item>\n        </el-dropdown-menu>\n      </el-dropdown>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from 'vuex'\nexport default {\n  components: {\n    D2Contextmenu: () => import('../contextmenu'),\n    D2ContextmenuList: () => import('../contextmenu/components/contentmenuList')\n  },\n  data () {\n    return {\n      contextmenuFlag: false,\n      contentmenuX: 0,\n      contentmenuY: 0,\n      contextmenuListIndex: [\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\n      ],\n      contextmenuList: [\n        { icon: 'arrow-left', title: '关闭左侧', value: 'left' },\n        { icon: 'arrow-right', title: '关闭右侧', value: 'right' },\n        { icon: 'times', title: '关闭其它', value: 'other' },\n        { icon: 'times-circle', title: '关闭全部', value: 'all' }\n      ],\n      tagName: 'index'\n    }\n  },\n  computed: {\n    ...mapState('d2admin/page', [\n      'opened',\n      'current'\n    ])\n  },\n  methods: {\n    ...mapActions('d2admin/page', [\n      'close',\n      'closeLeft',\n      'closeRight',\n      'closeOther',\n      'closeAll'\n    ]),\n    /**\n     * @description 右键菜单功能点击\n     */\n    handleContextmenu (event) {\n      let target = event.target\n      // 解决 https://github.com/d2-projects/d2-admin/issues/54\n      let flag = false\n      if (target.className.indexOf('el-tabs__item') > -1) flag = true\n      else if (target.parentNode.className.indexOf('el-tabs__item') > -1) {\n        target = target.parentNode\n        flag = true\n      }\n      if (flag) {\n        event.preventDefault()\n        event.stopPropagation()\n        this.contentmenuX = event.clientX\n        this.contentmenuY = event.clientY\n        this.tagName = target.getAttribute('aria-controls').slice(5)\n        this.contextmenuFlag = true\n      }\n    },\n    /**\n     * @description 右键菜单的row-click事件\n     */\n    contextmenuClick (command) {\n      this.handleControlItemClick(command, this.tagName)\n    },\n    /**\n     * @description 接收点击关闭控制上选项的事件\n     */\n    handleControlItemClick (command, tagName = null) {\n      if (tagName) {\n        this.contextmenuFlag = false\n      }\n      const params = {\n        pageSelect: tagName,\n        vm: this\n      }\n      switch (command) {\n        case 'left':\n          this.closeLeft(params)\n          break\n        case 'right':\n          this.closeRight(params)\n          break\n        case 'other':\n          this.closeOther(params)\n          break\n        case 'all':\n          this.closeAll(this)\n          break\n        default:\n          this.$message.error('无效的操作')\n          break\n      }\n    },\n    /**\n     * @description 接收点击关闭控制上按钮的事件\n     */\n    handleControlBtnClick () {\n      this.closeAll(this)\n    },\n    /**\n     * @description 接收点击 tab 标签的事件\n     */\n    handleClick (tab, event) {\n      // 找到点击的页面在 tag 列表里是哪个\n      const page = this.opened.find(page => page.name === tab.name)\n      const { name, params, query } = page\n      if (page) {\n        this.$router.push({ name, params, query })\n      }\n    },\n    /**\n     * @description 点击 tab 上的删除按钮触发这里 首页的删除按钮已经隐藏 因此这里不用判断是 index\n     */\n    handleTabsEdit (tagName, action) {\n      if (action === 'remove') {\n        this.close({\n          tagName,\n          vm: this\n        })\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3a7563a5&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}